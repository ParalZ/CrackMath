<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Przecięcie dwóch przedziałów</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraph.css">
  <script src="https://cdn.jsdelivr.net/npm/jsxgraph/distrib/jsxgraphcore.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      background: #fafafa;
      margin-top: 40px;
    }
    h2 {
      margin-bottom: 15px;
    }
    .sliders {
      margin-top: 20px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      width: 320px;
    }
    label {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    input[type=range] {
      width: 160px;
    }
    .jxgbox {
      border-radius: 10px;
      background: white;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <h2>Przecięcie dwóch przedziałów</h2>
  <p>Kolorem zielonym zaznaczono obszar, w którym <b>oba przedziały się pokrywają</b>.</p>

  <div id="box" class="jxgbox" style="width:600px; height:150px;"></div>

  <div class="sliders">
    <label>A1 = <span id="a1-val">-2</span>
      <input id="a1" type="range" min="-10" max="10" step="0.5" value="-2">
    </label>
    <label>B1 = <span id="b1-val">3</span>
      <input id="b1" type="range" min="-10" max="10" step="0.5" value="3">
    </label>
    <label>A2 = <span id="a2-val">1</span>
      <input id="a2" type="range" min="-10" max="10" step="0.5" value="1">
    </label>
    <label>B2 = <span id="b2-val">6</span>
      <input id="b2" type="range" min="-10" max="10" step="0.5" value="6">
    </label>
  </div>

  <script>
    const board = JXG.JSXGraph.initBoard('box', {
      boundingbox: [-11, 1, 11, -1],
      axis: true,
      showNavigation: false,
      showCopyright: false
    });

    let a1 = -2, b1 = 3, a2 = 1, b2 = 6;

    // Linie przedziałów
    const interval1 = board.create('segment', [[a1, 0], [b1, 0]], {
      strokeColor: '#0074D9',
      strokeWidth: 6,
      opacity: 0.6
    });
    const interval2 = board.create('segment', [[a2, 0], [b2, 0]], {
      strokeColor: '#FF4136',
      strokeWidth: 6,
      opacity: 0.6
    });

    // Obszar przecięcia (zielony)
    let intersection = null;

    function drawIntersection() {
      if (intersection) board.removeObject(intersection);

      const start = Math.max(a1, a2);
      const end = Math.min(b1, b2);

      if (start < end) {
        intersection = board.create('segment', [[start, 0], [end, 0]], {
          strokeColor: 'green',
          strokeWidth: 10,
          opacity: 0.4
        });
      }
    }

    drawIntersection();

    // Aktualizacja po zmianie suwaków
    function update() {
      a1 = parseFloat(document.getElementById('a1').value);
      b1 = parseFloat(document.getElementById('b1').value);
      a2 = parseFloat(document.getElementById('a2').value);
      b2 = parseFloat(document.getElementById('b2').value);

      document.getElementById('a1-val').textContent = a1;
      document.getElementById('b1-val').textContent = b1;
      document.getElementById('a2-val').textContent = a2;
      document.getElementById('b2-val').textContent = b2;

      interval1.point1.moveTo([a1, 0]);
      interval1.point2.moveTo([b1, 0]);
      interval2.point1.moveTo([a2, 0]);
      interval2.point2.moveTo([b2, 0]);

      drawIntersection();
      board.update();
    }

    ['a1','b1','a2','b2'].forEach(id => {
      document.getElementById(id).addEventListener('input', update);
    });
  </script>
</body>
</html>
